(this.webpackJsonpinstaweather=this.webpackJsonpinstaweather||[]).push([[0],{15:function(t,e,a){},17:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a(1),c=a.n(n),r=a(4),i=a.n(r),o=(a(15),a(3)),l=a.n(o),d=a(5),h=a(6),u=a(7),j=a(9),m=a(8),p=a.p+"static/media/cloudy.799926f7.svg",b=a.p+"static/media/sunny.14a5c542.svg",f=function(t){Object(j.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(h.a)(this,a),(s=e.call(this,t)).showPosition=function(t){s.fetchData(t)},s.toggleTemp=function(t){return Math.floor((t-32)/1.8)},s.toggleView=function(t){s.setState({temp:t})},s.toggleDaysandHr=function(t){s.setState({view:t})},s.state={temp:"f",view:"h",currently:{},days:[]},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition(this.showPosition,(function(){document.querySelector(".loader-wrapper").classList.add("d-none"),alert("location services failed due to unknown error, please try again later")}),{timeout:1e5});var t=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"numeric"});this.setState({todayDate:t.format(new Date)})}},{key:"fetchData",value:function(){var t=Object(d.a)(l.a.mark((function t(e){var a,s=this;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://secure-brook-70064.herokuapp.com/darksky/?latitude=".concat(e.coords.latitude,"&longitude=").concat(e.coords.longitude),t.next=3,fetch(a,{method:"GET"}).then((function(t){return t.json()})).then((function(t){console.log("here"),document.querySelector(".loader-wrapper").classList.add("d-none"),s.setState({timeZone:t.timezone,days:t.daily.data,hours:t.hourly.data}),console.log(s.state.hours)})).catch((function(t){document.querySelector(".loader-wrapper").classList.add("d-none"),console.log(t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(s.jsxs)("section",{children:[Object(s.jsx)("div",{className:"loader-wrapper",children:Object(s.jsx)("div",{className:"loader"})}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("h4",{className:"text-uppercase",children:"instaweather"}),Object(s.jsxs)("div",{className:"d-flex ml-auto",children:[Object(s.jsx)("button",{className:"btn text-white ".concat("c"===this.state.temp?"active":""),onClick:function(){return t.toggleView("c")},children:"C"},"c"),Object(s.jsx)("button",{className:"btn text-white ".concat("f"===this.state.temp?"active":""),onClick:function(){return t.toggleView("f")},children:"F"},"f")]})]}),Object(s.jsxs)("main",{children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsxs)("div",{className:"d-flex flex-column",children:[Object(s.jsx)("h2",{children:this.state.timeZone}),Object(s.jsx)("span",{children:this.state.todayDate}),this.state.days.length>0&&Object(s.jsx)("img",{src:"partly-cloudy-day"===this.state.days[0].icon?p:b,alt:"",className:"mr-auto"})]})}),Object(s.jsx)("div",{className:"col-md-6",children:this.state.days.length>0&&Object(s.jsxs)("div",{className:"align-content-end d-flex flex-column text-end",children:[Object(s.jsxs)("h1",{children:["f"===this.state.temp?Math.floor(this.state.days[0].apparentTemperatureHigh):this.toggleTemp(this.state.days[0].apparentTemperatureHigh),Object(s.jsx)("sup",{children:"\xb0"})]}),Object(s.jsxs)("h3",{children:["f"===this.state.temp?Math.floor(this.state.days[0].temperatureMax):this.toggleTemp(this.state.days[0].temperatureMax),Object(s.jsx)("sup",{children:"\xb0"})," /","f"===this.state.temp?Math.floor(this.state.days[0].temperatureLow):this.toggleTemp(this.state.days[0].temperatureLow),Object(s.jsx)("sup",{children:"\xb0"})]}),Object(s.jsx)("p",{children:this.state.days[0].summary})]})})]}),Object(s.jsxs)("div",{className:"border-bottom mb-4",children:[Object(s.jsx)("button",{className:"btn pl-0 pr-0 ".concat("h"===this.state.view?"active":""),onClick:function(){return t.toggleDaysandHr("h")},children:"hourly"}),Object(s.jsx)("button",{className:"btn ".concat("d"===this.state.view?"active":""),onClick:function(){return t.toggleDaysandHr("d")},children:"daily"})]}),"h"===this.state.view?Object(s.jsx)("div",{className:"d-flex overflow-scroll pb-4",children:!!this.state.hours&&this.state.hours.map((function(e,a){return Object(s.jsxs)("div",{className:"hourly-section",children:[Object(s.jsx)("p",{className:"text-capitalize",children:"".concat(new Date(1e3*e.time).getHours().toLocaleString(),":00")}),Object(s.jsx)("img",{src:"partly-cloudy-day"===e.icon?p:b,alt:"sunny day"}),Object(s.jsxs)("h4",{children:["f"===t.state.temp?Math.floor(e.apparentTemperature):t.toggleTemp(e.apparentTemperature),Object(s.jsx)("sup",{children:"\xb0"})]})]},a)}))}):!!this.state.days&&Object(s.jsx)("div",{className:"d-flex overflow-scroll pb-4",children:this.state.days.map((function(e,a){return Object(s.jsxs)("div",{className:"hourly-section",children:[Object(s.jsx)("p",{className:"text-capitalize",children:new Date(1e3*e.time).getDate().toLocaleString()}),Object(s.jsx)("img",{src:"partly-cloudy-day"===e.icon?p:b,alt:"sunny day"}),Object(s.jsxs)("h4",{children:["f"===t.state.temp?Math.floor(e.temperatureHigh):t.toggleTemp(e.temperatureHigh),Object(s.jsx)("sup",{children:"\xb0"})]})]},a)}))})]})]})]})}}]),a}(c.a.Component),x=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,18)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,c=e.getLCP,r=e.getTTFB;a(t),s(t),n(t),c(t),r(t)}))};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById("root")),x()}},[[17,1,2]]]);
//# sourceMappingURL=main.b73ab2af.chunk.js.map